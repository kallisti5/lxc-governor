<table class="table table-condensed">
  <tr>
    <th>Name</th>
    <th>IP</th>
    <th>State</th>
    <th>Memory</th>
    <th></th>
  </tr>
  <% @containers.each do |c| %>
    <tr>
      <td><%= c.name %></td>
      <td><a href="http://<%= lxc_ip_for(c.name) %>" target="_blank"><%= lxc_ip_for(c.name) %></a></td>
      <td><%= c.state.capitalize %>, PID: <%= c.init_pid %></td>
      <td>
        <% if c.running? %>
          <%= bytes_in_megabytes c.cgroup_item('memory.usage_in_bytes').to_i %> MB
        <% else %>
          &mdash;
        <% end %>
        /
        <% if c.running? %>
          <% if c.cgroup_item('memory.limit_in_bytes').to_i >= 18446744073709551615 %>
            &infin;
          <% else %>
            <%= bytes_in_megabytes c.cgroup_item('memory.limit_in_bytes').to_i %> MB
          <% end %>
        <% else %>
          &mdash;
        <% end %>
      </td>
      <td>
        <% if c.running? %>
          <a class="btn btn-danger btn-small" href="/containers/<%= c.name %>/stop">Stop</a>
        <% else %>
          <a class="btn btn-info btn-small" href="/containers/<%= c.name %>/start">Start</a>
        <% end %>
        <a class="btn btn-small" href="/containers/<%= c.name %>/config">Config</a>
        <a class="btn btn-small" href="/containers/<%= c.name %>/interfaces">Interfaces</a>
        <a class="btn btn-danger btn-small" href="/containers/<%= c.name %>/secure_destroy">Destroy</a>
      </td>
    </tr>
  <% end %>
</table>
<p>LXC version: <%= LXC.version %></p>
